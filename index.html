<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Hello React!</title>
    <script src="js/react.js"></script>
    <script src="js/react-dom.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>
  </head>
  <body>
    <div id="example"></div>
    <script type="text/babel">
    	//Understanding Lifecycle and Specs
    	/*
    		--Lifecycle--
			componentWillMount: Invoked once on server and client side
			componetDidMount: Invoked once on client side

			--Specs--
			getInitialState: return initail value (eg. count=0;)
			getDefaultProps: sets fallback props value, if props arent supplied
    	*/

    	//1st example - Hello world
    	/*
		ReactDOM.render(
			<h1>Hello World!</h1>,
			document.getElementById('example')
		);
    	*/


    	//2nd example -Creating custom components
		/*
		var HelloMessage = React.createClass({
		  render: function() {
		    return <div>Hello {this.props.name}</div>;
		  }
		});
		ReactDOM.render(<HelloMessage name="Lakhan" />, document.getElementById('example'));
		*/

		//3rd example -Creating counter (Complex custom element)
		/*
		var Counter = React.createClass({
			getInitialState:function(){
				return {count:0}
			},
			incrementCount:function(){
				this.setState({count:this.state.count+1})
			},
			render:function(){
				return (
					<div>
						<h1> Count : {this.state.count} </h1>
						<button onClick={this.incrementCount}>Increment count </button>
					</div>
				)
			}
		})
		ReactDOM.render(<Counter />,document.getElementById('example'));
		*/

		//4th example : TODO using react.js
		/*
		var TodoList = React.createClass({ // function that helps in creating list
			render:function(){
				var createItem = function(text,index){
					return <li key={index+text}>{text}</li>;
				};
				return <ul>{this.props.items.map(createItem)}</ul>;
			}
		})
		var TodoApp = React.createClass({
			getInitialState:function(){
				return {items:[],text:''};
			},
			onChange:function(e){
				this.setState({text:e.target.value});
			},
			submitFrom:function(e){
				e.preventDefault();
				var newItem=this.state.items.concat([this.state.text]);
				var newText='';
				this.setState({items:newItem,text:newText});
			},
			render:function(){
				return(
					<div>
					<h4> TodoList </h4>
					<TodoList items={this.state.items} />
					<form onSubmit={this.submitFrom}>
						<input type="text" placeholder="Your next text" value={this.state.text} onChange={this.onChange}/>
						<button> Add </button>
					</form>
					</div>
				);
			}
		})
		ReactDOM.render(<TodoApp />,document.getElementById('example'));
		*/
		//Handling state change
		var NoLink = React.createClass({
			getInitialState: function() {
				return {message: 'Hello!'};
			},
			handleChange: function(event) {
				this.setState({message: event.target.value});
			},
			render: function() {
				var message = this.state.message;
				return(
					<div>
						<h1>{this.state.message} </h1>
						<input type="text" value={message} onChange={this.handleChange} />
					</div>
				);
			}
		});
		ReactDOM.render(<NoLink/>,document.getElementById('example'));
    </script>
  </body>
</html>